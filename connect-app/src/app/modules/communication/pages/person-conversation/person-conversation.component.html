<div>
    <a [routerLink]="['/']">Back to Primary Page</a>
</div>

<div>
    <button *ngIf="conversationId" (click)="updateConversationMessages(conversationId)"
        [disabled]="updateCountdown > 0">Update
        <span *ngIf="updateCountdown > 0"> ({{ updateCountdown }}s)</span>
    </button>
    <div>
        <button *ngIf="conversationId" (click)="deleteConversation(conversationId)">Delete Conversation</button>
    </div>

</div>

<div *ngFor="let message of messages$ |async">
    <div [ngClass]="{'own-message': message.authorID === userId, 'other-message': message.authorID !== userId}">
        <p>{{message.createdAt | date:'dd.MM.yy HH:mm'}}</p>
        <p>{{message.authorName}}</p>
        <p>{{message.message}}</p>
    </div>



</div>

<div [formGroup]="newMessageForm">
    <input type="text" placeholder="Type your message..." formControlName="newMessage">
    <button *ngIf="conversationId" [disabled]="newMessageForm.invalid"
        (click)="sendMessage(conversationId)">Send</button>
</div>