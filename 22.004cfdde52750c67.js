"use strict";(self.webpackChunkconnect_app=self.webpackChunkconnect_app||[]).push([[22],{22:(U,d,o)=>{o.r(d),o.d(d,{UserModule:()=>A});var c=o(6814),M=o(9862),l=o(95),x=o(7707),P=o(7700),s=o(5959),_=o(9397),f=o(7188),v=o(5295),t=o(9468),g=o(7019),O=o(676),u=o(8184),h=o(8962);function k(i,T){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"span"),t._uU(3,"Name:"),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.ALo(6,"async"),t.qZA()(),t.TgZ(7,"button",9),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.toggleEditMode())}),t._uU(8,"Edit profile"),t.qZA(),t.BQk()}if(2&i){const n=t.oxw();let e;t.xp6(5),t.Oqu(null==(e=t.lcZ(6,1,n.profileData$))?null:e.name)}}function Z(i,T){if(1&i){const n=t.EpF();t.TgZ(0,"div",6)(1,"span"),t._uU(2,"Name:"),t.qZA(),t.TgZ(3,"input",10),t.NdJ("ngModelChange",function(a){t.CHM(n);const r=t.oxw();return t.KtG(r.profileDataCopy.name=a)}),t.qZA()(),t.TgZ(4,"div",11)(5,"button",4),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.toggleEditMode())}),t._uU(6,"Cancel"),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.saveProfile())}),t._uU(8,"Save"),t.qZA()()}if(2&i){const n=t.oxw();t.xp6(3),t.Q6J("ngModel",n.profileDataCopy.name)}}const b=function(){return["/"]};let y=(()=>{class i{constructor(n,e,a,r,p){this.profileService=n,this.store=e,this.router=a,this.snackbarService=r,this.modalService=p,this.editMode=!1,this.profileData={name:"",email:"",createdAt:"",id:""},this.profileDataCopy={name:"",email:"",createdAt:"",id:""}}ngOnInit(){this.store.dispatch(f.hr()),this.profileData$=this.store.select(v.t).pipe((0,_.b)(n=>{n&&(this.profileDataCopy={...n})}))}logout(){this.modalService.confirmationModalOpen("Are you sure you want to logout?").afterClosed().subscribe(e=>{e&&this.profileService.logout().subscribe(()=>{this.snackbarService.openSnackBar("You are logged out"),localStorage.clear(),this.router.navigate(["/signin"])})})}toggleEditMode(){this.editMode=!this.editMode,this.editMode||(this.profileData={...this.profileDataCopy})}saveProfile(){this.toggleEditMode(),this.profileService.updateProfile({name:this.profileData.name}).subscribe(()=>{this.snackbarService.openSnackBar("Profile updated successfully"),this.store.dispatch(f.ck({profile:this.profileData}))})}static#t=this.\u0275fac=function(e){return new(e||i)(t.Y36(g.H),t.Y36(O.yh),t.Y36(s.F0),t.Y36(u.o),t.Y36(h.Z))};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-profile"]],decls:30,vars:15,consts:[[1,"profile-wrapper"],[1,"profile-container"],[1,"header"],[1,"back-link",3,"routerLink"],[1,"btn",3,"click"],[1,"profile-data"],[1,"profile-data-item"],[4,"ngIf","ngIfElse"],["editModeTemplate",""],[1,"btn","edit-btn",3,"click"],["type","text",3,"ngModel","ngModelChange"],[1,"btns-container"]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"header",2)(3,"a",3),t._uU(4,"< Back"),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return a.logout()}),t._uU(6,"Logout"),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"span"),t._uU(10,"Profile Creation Date: "),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.ALo(13,"date"),t.ALo(14,"async"),t.qZA()(),t.TgZ(15,"div",6)(16,"span"),t._uU(17,"Profile ID: "),t.qZA(),t.TgZ(18,"p"),t._uU(19),t.ALo(20,"async"),t.qZA()(),t.TgZ(21,"div",6)(22,"span"),t._uU(23,"Email:"),t.qZA(),t.TgZ(24,"p"),t._uU(25),t.ALo(26,"async"),t.qZA()(),t.YNc(27,k,9,3,"ng-container",7),t.YNc(28,Z,9,1,"ng-template",null,8,t.W1O),t.qZA()()()),2&e){const r=t.MAs(29);let p,m,C;t.xp6(3),t.Q6J("routerLink",t.DdM(14,b)),t.xp6(9),t.Oqu(t.lcZ(13,6,null==(p=t.lcZ(14,8,a.profileData$))?null:p.createdAt)),t.xp6(7),t.Oqu(null==(m=t.lcZ(20,10,a.profileData$))?null:m.id),t.xp6(6),t.Oqu(null==(C=t.lcZ(26,12,a.profileData$))?null:C.email),t.xp6(2),t.Q6J("ngIf",!a.editMode)("ngIfElse",r)}},dependencies:[c.O5,s.rH,l.Fj,l.JJ,l.On,c.Ov,c.uU],styles:[".profile-wrapper[_ngcontent-%COMP%]{height:100%;padding:50px}.profile-container[_ngcontent-%COMP%]{width:800px;min-height:400px;margin:0 auto;background-color:#fff;box-shadow:0 2px 5px #0000001a;display:flex;flex-direction:column;justify-content:flex-start;gap:20px;padding:30px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.back-link[_ngcontent-%COMP%]{text-decoration:none;color:#000;cursor:pointer}.back-link[_ngcontent-%COMP%]:hover{color:#656565}.profile-data[_ngcontent-%COMP%]{width:400px;margin:0 auto 20px;display:flex;flex-direction:column;gap:20px;text-align:center}.profile-data-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.btns-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}.btn[_ngcontent-%COMP%]{padding:10px;border:none;background-color:#d1cfcf;box-shadow:0 2px 5px #0000001a;text-transform:uppercase;cursor:pointer}.edit-btn[_ngcontent-%COMP%]{width:50%;margin:0 auto}input[_ngcontent-%COMP%]{font-size:14px;padding:10px;border:none;background-color:#f2f2f2;text-align:center;cursor:text}input[_ngcontent-%COMP%]:focus{outline-color:#a5cea5}p[_ngcontent-%COMP%]{color:#656565}.dark[_nghost-%COMP%]   .profile-container[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .profile-container[_ngcontent-%COMP%]{background-color:#626262}.dark[_nghost-%COMP%]   p[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   p[_ngcontent-%COMP%]{color:#f2f2f2}.dark[_nghost-%COMP%]   .back-link[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .back-link[_ngcontent-%COMP%]{color:#f2f2f2}.dark[_nghost-%COMP%]   .back-link[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .back-link[_ngcontent-%COMP%]:hover{color:#fff}.dark[_nghost-%COMP%]   .btn[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .btn[_ngcontent-%COMP%]{box-shadow:0 2px 5px #ffffff1a}"]})}return i})(),A=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#n=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({providers:[g.H,h.Z,u.o],imports:[c.ez,s.Bz.forChild([{path:"",component:y}]),M.JF,x.ZX,P.Is,l.u5,l.UX,s.Bz]})}return i})()}}]);